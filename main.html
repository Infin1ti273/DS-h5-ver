<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type">
    <!--适应边框宽度，不可缩放-->
    <meta name="viewport" content="width=device-width, user-scalable=0">
    <title>Drone Sharing Platform</title>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
</head>

<body>

<!--主页-->
<div data-role="page" id="main-page">
    <!--上方导航栏-->
    <header data-role="header">
        <a href="#sidebar" class="ui-btn ui-corner-all ui-shadow ui-icon-bars ui-btn-icon-left">菜单</a>
        <h1>Drone sharing</h1>

    </header>

    <!--首页中部主体-->
    <div data-role="content" class="main_content">
        <h2>Get a blockchain drone for yourself:</h2>
        <h1>BY 3 STEPS!</h1>
        <!--a id="first_pic" href="#profile-page">测试：账户信息</a-->
    </div>

    <!--侧边菜单-->
    <aside data-role="panel" id="sidebar">
        <!--用户按钮-->
        <div class="side_comp" id="side_comp1">
            <a id="usr_icon_link" href="#login-page">
                <p id="usr_icon_text">Welcome! <br/>Please tap here to login</p>
            </a>
        </div>
        <!--按钮栏-->
        <div class="side_comp" id="side_comp2">
            <ul data-role="listview">
                <li data-icon="false"><a href="" id="Message">Message</a></li>
                <li data-icon="false"><a href="" id="History">History</a></li>
                <li data-icon="false"><a href="#wallet-page" id="wallet_button">Wallet</a></li>
                <li data-icon="false"><a href="" id="Settings">Settings</a></li>
            </ul>
        </div>

    </aside>

    <!--页脚-->
    <footer data-role="footer">
        <ul data-role="listview">
            <li id="main-list-drone">Drone: Please choose a drone!</li>
            <li id="main-list-location">Location: Please choose a drone!</li>
            <li id="main-list-status">Status: Please choose a drone!</li>
        </ul>
        <div data-role="navbar">
            <ul>
                <li><a id="choice_button" href="#select-page" data-icon="bars">1 Choice</a></li>
                <li><a id="config_button" href="#config-page" data-icon="edit">2 Configurations</a></li>
                <li><a id="deploy_button" href="#exec-page" data-icon="check">3 Deployment</a></li>
            </ul>
        </div>
    </footer>
</div>

<!--设置页(起点和终点)-->
<div data-role="page" id="config-page">
    <!--上方导航栏-->
    <header data-role="header">
        <a data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-back ui-btn-icon-left">back</a>
        <h1>Configurations</h1>
    </header>

    <!--主体-->
    <div data-role="content">
        <label>
            Origin: <a href="#map-page"><input type="text" id="input-start" value="current location" readonly></a>
        </label>
        <label>
            Terminal: <a href="#map-page" id="terminal_button"><input id="input-terminal" type="text" value="not configured" readonly></a>
        </label>
        <button type="submit" id="location_button">Finish</button>
    </div>
</div>

<!--登录页-->
<div data-role="page" id="login-page">
    <!--上方导航栏-->
    <header data-role="header">
        <a data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-back ui-btn-icon-left">back</a>
        <h1>Login</h1>
    </header>

    <!--主体-->
    <div data-role="content">
        <form action="#" method="post" id="login_form">
            <h3>
                <label>
                    Phone：<input type="number" maxlength="11" name="phone">
                </label>
            </h3>
            <h3>
                <label>
                    Password：<input type="password" name="password" id="login_psw_input">
                </label>
            </h3>
            <input type="button" value="Login" name="login_btn" id="login_button">
        </form>

        <p>
            No account？ <a href="#signup-page">Sign up!</a><br>
        </p>
        <p>
            Forgot password？ <a href="#forget-page-phone">Click here!</a>
        </p>
    </div>
</div>

<!--注册1:手机验证(作废)-->
<!--div data-role="page" id="signup-page-phone">
    <上方导航栏>
    <header data-role="header">
        <a data-rel="back" style="background-color:#1676ac;border: 0;box-shadow:none">
            <img src="themes/images/icons-png/back-white.png" alt="bar" class="navi_icon">
        </a>
        <h1>注册账户！</h1>
    </header>
    <div data-role="content">
        <form action="#" id="signup_phone_form" name="alter_form">
            <label>
                手机号： <input name="alt_phone" maxlength="11" class="phone">
            </label>
            <a href="" class="ui-btn send_auth_button">发送验证码(暂不可用)</a>
            <label>
                验证码： <input name="key">
            </label>
            <input id="signup_phone_button" type="button" value="注册！">
        </form>
    </div>
</div-->

<!--注册-->
<div data-role="page" id="signup-page">
    <!--上方导航栏-->
    <header data-role="header">
        <a data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-back ui-btn-icon-left">back</a>
        <h1>Sign up</h1>
    </header>

    <!--主体-->
    <div data-role="content">
        <form action="#" method="post" id="signup_others_form">
            <label>
                Phone: <input type="number" name="phone" maxlength="11">
            </label>
            <label>
                Name: <input type="text" name="name">
            </label>
            <label>
                Password: <input type="password" name="psw" id="signup_psw_input">
            </label>
            <label>
                Signup: <input type="password" name="psw2" id="signup_psw2_input">
            </label>
            <input type="button" value="注册" name="signup_btn" id="signup_others_button">
        </form>
    </div>
</div>

<!--忘记密码(手机找回)-->
<div data-role="page" id="forget-page-phone">
    <!--上方导航栏-->
    <header data-role="header">
        <a data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-back ui-btn-icon-left">back</a>
        <h1>修改信息</h1>
    </header>
    <div data-role="content">
        <form content="/alt_msg" id="forget_psw_form">
            <label>
                手机号： <input name="phone" type="number" maxlength="11">
            </label>
            <a href="" class="ui-btn send_auth_button">发送验证码(暂不可用)</a>
            <label>
                验证码： <input name="key" type="password">
            </label>
            <input id="forget_psw_button" type="button" value="找回密码">
        </form>
    </div>
</div>

<!--账户信息页-->
<div data-role="page" id="profile-page">
    <!--上方导航栏-->
    <header data-role="header">
        <a data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-back ui-btn-icon-left">back</a>
        <h1>用户信息</h1>
    </header>
    <!--主体-->
    <div data-role="content">
        <a>
            <div data-role="content" class="ui-body-a">
                账户：<div></div>
            </div>
        </a>
        <div data-role="content">
            <ul data-role="listview">
                <li>用户名：<div id="prof_user"></div></li>
                <li>手机号：<div id="prof_phone"></div></li>
                <li>Email：<div id="prof_email"></div></li>
            </ul>
        </div>
    </div>
    <!--alter-page-normal-->
    <a href="#" class="ui-btn" style="margin-left: 15px; margin-right: 15px;">修改信息</a>
    <!--alter-page-phone-->
    <a href="#" class="ui-btn" style="margin-left: 15px; margin-right: 15px;">修改手机号</a>
    <!--alter-page-psw-->
    <a href="#" class="ui-btn" style="margin-left: 15px; margin-right: 15px;">修改密码</a>
    <a href="#" class="ui-btn" style="margin-left: 15px; margin-right: 15px;" id="logout_button">解除登录</a>
</div>

<!--账户信息更改(普通)-->
<div data-role="page" id="alter-page-normal">
    <!--上方导航栏-->
    <header data-role="header">
        <a data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-back ui-btn-icon-left">back</a>
        <h1>修改信息</h1>
    </header>
    <div data-role="content">
        <form action="#" method="post" id="alter_normal_form">
            <label>
                用户名： <input type="text" name="name">
            </label>
            <label>
                Email： <input type="email" name="email">
            </label>
            <input id="alter_normal_button" type="button" value="确认修改" >
        </form>
    </div>
</div>

<!--账户信息更改(手机)-->
<div data-role="page" id="alter-page-phone">
    <!--上方导航栏-->
    <header data-role="header">
        <a data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-back ui-btn-icon-left">back</a>
        <h1>修改信息</h1>
    </header>
    <div data-role="content">
        <form action="#" method="post" id="alter_phone_form">
            <label>
                手机号： <input type="number" maxlength="11" name="phone">
            </label>
            <a href="" class="ui-btn send_auth_button">发送验证码(暂不可用)</a>
            <label>
                验证码： <input id="alt_key" name="key">
            </label>
            <input id="alter_phone_button" type="button" value="确认修改" >
        </form>
    </div>
</div>

<!--修改密码-->
<div data-role="page" id="alter-page-psw">
    <!--上方导航栏-->
    <header data-role="header">
        <a data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-back ui-btn-icon-left">back</a>
        <h1>修改信息</h1>
    </header>
    <div data-role="content">
        <form action="#" id="alter_psw_form">
            <label>
                新密码： <input type="password" name="psw">
            </label>
            <label>
                确认密码： <input type="password" name="psw2">
            </label>
            <input id="alter_psw_button" type="button" value="确认修改">
        </form>

    </div>
</div>

<!--选择物品-->
<div data-role="page" id="select-page">
    <!--上方导航栏-->
    <header data-role="header">
        <a data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-back ui-btn-icon-left">back</a>
        <h1>Select</h1>
    </header>
    <div data-role="content">

        <ul data-role="listview">
            <li data-icon="plus">
                <a><h1>Drone Sample 1</h1></a>
                <a id="drone_sample_1"></a>
            </li>
            <li data-icon="plus">
                <a><h1>Drone Sample 2</h1></a>
                <a id="drone_sample_2"></a>
            </li>
        </ul>
    </div>
</div>

<!--地图页-->
<div data-role="page" id="map-page">
    <!--上方导航栏-->
    <header data-role="header">
        <a data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-back ui-btn-icon-left">back</a>
        <h1>Map</h1>
        <a class="ui-btn ui-corner-all ui-shadow ui-btn-icon-left" id="terminal-select-button">select</a>
    </header>
    <div data-role="content">
        <!--DOM for Map-->
        <div id="map" style="position: absolute; width: 100%; height: 100%;"></div>
    </div>
</div>

<!--Wallet-->
<div data-role="page" id="wallet-page">
    <header data-role="header">
        <a data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-back ui-btn-icon-left">back</a>
        <h1>Wallet</h1>
    </header>
    <div data-role="content">
        <ul data-role="listview">
            <li><a id="g-search" href="#">Inquiry</a></li>
            <li><a id="g-charge" href="#g-dialog">Recharge</a></li>
            <li><a id="g-withdraw" href="#g-dialog">Withdraw</a></li>
        </ul>

    </div>
</div>

<!--Wallet-dialog-->
<div data-role="page" data-dialog="true" id="g-dialog">
    <div data-role="header">
        <h1 id="dialog-title"></h1>
    </div>
    <div data-role="main" class="ui-content">
        <label>
            <p id="dialog-text"></p>
            <input type="number" id="money"/>
        </label>
        <button id="dialog-button">Ok</button>
    </div>
</div>

<!--确认交易-->
<div data-role="page" id="exec-page">
    <header data-role="header">
        <a data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-back ui-btn-icon-left">back</a>
        <h1>Deployment</h1>
    </header>
    <div data-role="content">
        <h3>Please input your account and password:</h3>
        <form action="#" method="post" id="exec_form">
            <label>
                Account: <input type="text" name="account">
            </label>
            <label>
                Password: <input type="password" name="psw" id="exec_psw_input">
            </label>
            <label>
                Confirm password: <input type="password" name="psw2" id="exec_psw2_input">
            </label>
            <input type="button" value="Deploy!" name="exec_btn" id="exec_button">
        </form>
    </div>
</div>

<!--Some global variables-->
<script>

    //用户请求一次手机验证码后触发20s倒计时，期间不能再次请求验证码（此功能暂时废弃）
    let i=20;
    function arr(str){
        setTimeout(function () {
            $(str).html("Please Wait...("+ i +")");
            if(i>0)
                arr(str);
            else
                $(str).html("发送验证码");
            i--;
        },1000);
    }
    $(".send_auth_button").click(function(){i=20}).click(function(){arr(".send_auth_button")});


</script>
<!--布局相关Script-->
<script src="scripts/layout.js"></script>
<!--应用初始化相关Script-->
<script src="scripts/init.js"></script>
<!--业务逻辑相关Script-->
<script src="scripts/service.js"></script>
<!--地图相关Script-->
<script src="scripts/map.js"></script>
<!--Drones_Script-->
<script src="scripts/drones.js"></script>
<!--调用geth相关Script-->
<!--script src="scripts/geth.js"></script-->
<!--仅供测试使用的Script-->
<script src="scripts/test.js"></script>
</body>
</html>